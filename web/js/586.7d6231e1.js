"use strict";(self["webpackChunkai_web"]=self["webpackChunkai_web"]||[]).push([[586],{8944:function(e,t,a){a.d(t,{A:function(){return V}});var l=a(1780),i=a(2760),n=(a(5331),a(5616),a(1702)),d=(a(9648),a(4358)),o=(a(9092),a(2687)),u=(a(8785),a(4114),a(4603),a(7566),a(8721),a(6768)),r=a(5130),s=a(144),c=a(1304),v=a(7147),k=a(5465),m=a(1774),g=a(1387),f=a(2738),p=a(9787),h=a(5384),b=a(4627),L=a(1796);const C={id:"main-login"},_={id:"dialog-name"},R={id:"dialog-avatar"},y=["src"],E={class:"dialog-footer"},F={id:"main-mask"},w={id:"header"},I={id:"header-right"},K=["src"],A=["onClick"];var X={__name:"Header",setup(e){const t=(0,g.rd)(),a=(0,s.KR)(null),X=(0,s.KR)(null),W=(0,f.A)(),x=(0,p.A)(),V=(0,s.KR)(!1),U=(0,s.KR)(!1),M=(0,s.KR)(""),q=(0,s.KR)("");let z;""==x.token&&localStorage.getItem("token")&&(0,h.ug)();const S=()=>{const e=document.getElementById("chooseImg");e&&e.click()},j=e=>{z=e.target.files[0],e.target.value="",M.value=URL.createObjectURL(z)},B=async()=>{z?(0,h.QM)(z).then((e=>{(0,h.bu)(q.value,e)})):q.value!=x.nickName&&(0,h.bu)(q.value,x.avatarUrl),z=null,G()},N=()=>{U.value=!0,q.value=x.nickName,M.value=x.avatarUrl},G=()=>{U.value=!1},T=()=>{V.value=!0},H=()=>{V.value=!1};(0,u.sV)((()=>{O(),window.addEventListener("resize",O)})),(0,u.xo)((()=>{window.removeEventListener("resize",O)}));const O=(0,m.sg)((()=>{a.value.setInputWidth(.3*X.value.offsetWidth)})),Q=e=>{if("注销"===e.title)return x.clearInfo(),localStorage.removeItem("token"),localStorage.removeItem("password"),void(0,L.ut)();let a=t.resolve({path:e.path});window.open(a.href,"_blank")},Y=()=>{t.push("/")};return(e,t)=>{const m=o.u,g=d.WK,f=n.S2,p=i.kZ,h=l.A;return(0,u.uX)(),(0,u.CE)(u.FK,null,[(0,u.bo)((0,u.Lk)("div",C,[(0,u.bF)(b.A,{onExitLogin:H})],512),[[r.aG,V.value]]),(0,u.bF)(p,{modelValue:U.value,"onUpdate:modelValue":t[1]||(t[1]=e=>U.value=e),title:"修改个人信息",width:"500"},{footer:(0,u.k6)((()=>[(0,u.Lk)("div",E,[(0,u.bF)(f,{onClick:G},{default:(0,u.k6)((()=>t[6]||(t[6]=[(0,u.eW)("Cancel")]))),_:1}),(0,u.bF)(f,{type:"primary",onClick:B},{default:(0,u.k6)((()=>t[7]||(t[7]=[(0,u.eW)(" Confirm ")]))),_:1})])])),default:(0,u.k6)((()=>[(0,u.Lk)("div",_,[(0,u.bF)(m,{type:"primary",size:"large"},{default:(0,u.k6)((()=>t[3]||(t[3]=[(0,u.eW)("昵称")]))),_:1}),(0,u.bF)(g,{class:"dialog-input",modelValue:q.value,"onUpdate:modelValue":t[0]||(t[0]=e=>q.value=e),placeholder:(0,s.R1)(x).nickName},null,8,["modelValue","placeholder"])]),(0,u.Lk)("div",R,[(0,u.bF)(m,{type:"primary",size:"large"},{default:(0,u.k6)((()=>t[4]||(t[4]=[(0,u.eW)("头像")]))),_:1}),(0,u.Lk)("img",{class:"dialog-image",src:M.value,alt:""},null,8,y),(0,u.bF)(f,{onClick:S},{default:(0,u.k6)((()=>t[5]||(t[5]=[(0,u.eW)("上传文件")]))),_:1}),(0,u.Lk)("input",{type:"file",id:"chooseImg",style:{display:"none"},onChange:j},null,32)])])),_:1},8,["modelValue"]),(0,u.bo)((0,u.Lk)("div",F,null,512),[[r.aG,V.value]]),(0,u.Lk)("div",w,[(0,u.Lk)("div",{id:"aside-sign",onClick:t[2]||(t[2]=e=>Y())},[(0,u.bF)(h,{id:"sign-icon",name:"aiweb"}),t[8]||(t[8]=(0,u.Lk)("div",{id:"sign-title"},"AI资讯",-1))]),(0,u.Lk)("div",{ref_key:"headerRef",ref:X,id:"article-header"},[(0,u.bF)(c.A,{ref_key:"inputRef",ref:a,id:"header-input",platform:(0,s.R1)(W).platform},null,8,["platform"]),(0,u.Lk)("div",I,[(0,s.R1)(x).id>0?((0,u.uX)(),(0,u.CE)("img",{key:0,id:"right-avatar",onClick:N,src:(0,s.R1)(x).avatarUrl},null,8,K)):((0,u.uX)(),(0,u.CE)("div",{key:1,id:"right-avatar",onClick:T},"登录")),((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,s.R1)(k.Yl),((e,t)=>((0,u.uX)(),(0,u.CE)("div",{key:t,class:"right-icon",onClick:t=>Q(e)},[(0,u.bF)(v.A,{name:e.name,title:e.title},null,8,["name","title"])],8,A)))),128))])],512)])],64)}}},W=a(1241);const x=(0,W.A)(X,[["__scopeId","data-v-1f153d80"]]);var V=x},4136:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var l=a(8944),i=(a(4114),a(6768)),n=a(144),d=a(4232),o=a(1780),u=a(5465),r=a(1387);const s={id:"message"},c={id:"message-header"},v={id:"message-content"},k={id:"content-left"},m={id:"left-subject"},g={id:"left-box"},f={id:"content-right"},p={id:"right-title"};var h={__name:"Message",setup(e){const t=(0,n.KR)(),a=(0,r.rd)(),h=(0,r.lq)();let b=(0,n.KR)(null),L=(0,n.KR)("");(0,i.sV)((()=>{b.value=document.getElementById("left-box"),b.value.addEventListener("click",_)})),(0,i.hi)((()=>{b.value.removeEventListener("click",_)}));const C=e=>{L.value=e};(0,i.wB)(h,(e=>{C(e.meta.messageCode)}),{immediate:!0,deep:!0});const _=e=>{u.Xq[e.target.innerText].EMenu!==L.value&&a.push(u.Xq[e.target.innerText].path)};return(e,a)=>{const r=l.A,h=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",s,[(0,i.Lk)("div",c,[(0,i.bF)(r)]),(0,i.Lk)("div",v,[(0,i.Lk)("div",k,[(0,i.Lk)("div",m,[(0,i.bF)(o.A,{name:"send",id:"subject-icon"}),a[0]||(a[0]=(0,i.Lk)("span",null,"消息中心",-1))]),(0,i.Lk)("ul",g,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,n.R1)(u.Xq),((e,t)=>((0,i.uX)(),(0,i.CE)("li",{class:(0,d.C4)([e.EMenu===(0,n.R1)(L)?"box-item-active":"box-item"]),key:t},(0,d.v_)(e.CMenu),3)))),128))])]),(0,i.Lk)("div",f,[(0,i.Lk)("div",p,(0,d.v_)((0,n.R1)(L)),1),(0,i.bF)(h,{class:"right-content"},{default:(0,i.k6)((({Component:e})=>[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e),{ref_key:"childComponent",ref:t},null,512))])),_:1})])])])}}},b=a(1241);const L=(0,b.A)(h,[["__scopeId","data-v-f942b7ce"]]);var C=L}}]);
//# sourceMappingURL=586.7d6231e1.js.map