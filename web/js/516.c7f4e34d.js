"use strict";(self["webpackChunkai_web"]=self["webpackChunkai_web"]||[]).push([[516],{8944:function(e,a,l){l.d(a,{A:function(){return W}});var i=l(1780),t=l(2760),n=(l(5331),l(5616),l(1702)),o=(l(9648),l(4358)),r=(l(9092),l(2687)),d=(l(8785),l(4114),l(4603),l(7566),l(8721),l(6768)),u=l(5130),s=l(144),c=l(1304),v=l(7147),k=l(5465),m=l(1774),p=l(1387),f=l(2738),g=l(9787),b=l(5384),h=l(4627),C=l(1796);const L={id:"main-login"},R={id:"dialog-name"},_={id:"dialog-avatar"},y=["src"],F={class:"dialog-footer"},w={id:"main-mask"},A={id:"header"},I={id:"header-right"},E=["src"],K=["onClick"];var U={__name:"Header",setup(e){const a=(0,p.rd)(),l=(0,s.KR)(null),U=(0,s.KR)(null),x=(0,f.A)(),V=(0,g.A)(),W=(0,s.KR)(!1),X=(0,s.KR)(!1),z=(0,s.KR)(""),N=(0,s.KR)("");let S;""==V.token&&localStorage.getItem("token")&&(0,b.ug)();const B=()=>{const e=document.getElementById("chooseImg");e&&e.click()},G=e=>{S=e.target.files[0],e.target.value="",z.value=URL.createObjectURL(S)},O=async()=>{S?(0,b.QM)(S).then((e=>{(0,b.bu)(N.value,e)})):N.value!=V.nickName&&(0,b.bu)(N.value,V.avatarUrl),S=null,q()},j=()=>{X.value=!0,N.value=V.nickName,z.value=V.avatarUrl},q=()=>{X.value=!1},H=()=>{W.value=!0},M=()=>{W.value=!1};(0,d.sV)((()=>{Q(),window.addEventListener("resize",Q)})),(0,d.xo)((()=>{window.removeEventListener("resize",Q)}));const Q=(0,m.sg)((()=>{l.value.setInputWidth(.3*U.value.offsetWidth)})),Y=e=>{if("注销"===e.title)return V.clearInfo(),localStorage.removeItem("token"),localStorage.removeItem("password"),void(0,C.ut)();let l=a.resolve({path:e.path});window.open(l.href,"_blank")},Z=()=>{a.push("/")};return(e,a)=>{const m=r.u,p=o.WK,f=n.S2,g=t.kZ,b=i.A;return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.bo)((0,d.Lk)("div",L,[(0,d.bF)(h.A,{onExitLogin:M})],512),[[u.aG,W.value]]),(0,d.bF)(g,{modelValue:X.value,"onUpdate:modelValue":a[1]||(a[1]=e=>X.value=e),title:"修改个人信息",width:"500"},{footer:(0,d.k6)((()=>[(0,d.Lk)("div",F,[(0,d.bF)(f,{onClick:q},{default:(0,d.k6)((()=>a[6]||(a[6]=[(0,d.eW)("Cancel")]))),_:1}),(0,d.bF)(f,{type:"primary",onClick:O},{default:(0,d.k6)((()=>a[7]||(a[7]=[(0,d.eW)(" Confirm ")]))),_:1})])])),default:(0,d.k6)((()=>[(0,d.Lk)("div",R,[(0,d.bF)(m,{type:"primary",size:"large"},{default:(0,d.k6)((()=>a[3]||(a[3]=[(0,d.eW)("昵称")]))),_:1}),(0,d.bF)(p,{class:"dialog-input",modelValue:N.value,"onUpdate:modelValue":a[0]||(a[0]=e=>N.value=e),placeholder:(0,s.R1)(V).nickName},null,8,["modelValue","placeholder"])]),(0,d.Lk)("div",_,[(0,d.bF)(m,{type:"primary",size:"large"},{default:(0,d.k6)((()=>a[4]||(a[4]=[(0,d.eW)("头像")]))),_:1}),(0,d.Lk)("img",{class:"dialog-image",src:z.value,alt:""},null,8,y),(0,d.bF)(f,{onClick:B},{default:(0,d.k6)((()=>a[5]||(a[5]=[(0,d.eW)("上传文件")]))),_:1}),(0,d.Lk)("input",{type:"file",id:"chooseImg",style:{display:"none"},onChange:G},null,32)])])),_:1},8,["modelValue"]),(0,d.bo)((0,d.Lk)("div",w,null,512),[[u.aG,W.value]]),(0,d.Lk)("div",A,[(0,d.Lk)("div",{id:"aside-sign",onClick:a[2]||(a[2]=e=>Z())},[(0,d.bF)(b,{id:"sign-icon",name:"aiweb"}),a[8]||(a[8]=(0,d.Lk)("div",{id:"sign-title"},"AI资讯",-1))]),(0,d.Lk)("div",{ref_key:"headerRef",ref:U,id:"article-header"},[(0,d.bF)(c.A,{ref_key:"inputRef",ref:l,id:"header-input",platform:(0,s.R1)(x).platform},null,8,["platform"]),(0,d.Lk)("div",I,[(0,s.R1)(V).id>0?((0,d.uX)(),(0,d.CE)("img",{key:0,id:"right-avatar",onClick:j,src:(0,s.R1)(V).avatarUrl},null,8,E)):((0,d.uX)(),(0,d.CE)("div",{key:1,id:"right-avatar",onClick:H},"登录")),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)((0,s.R1)(k.Yl),((e,a)=>((0,d.uX)(),(0,d.CE)("div",{key:a,class:"right-icon",onClick:a=>Y(e)},[(0,d.bF)(v.A,{name:e.name,title:e.title},null,8,["name","title"])],8,K)))),128))])],512)])],64)}}},x=l(1241);const V=(0,x.A)(U,[["__scopeId","data-v-1f153d80"]]);var W=V},8722:function(e,a,l){l.r(a),l.d(a,{default:function(){return _}});l(4114);var i=l(6768),t=l(144),n=l(4232),o=l(8944),r=l(1780),d=l(5465),u=l(1387),s=l(9787);const c={id:"user"},v={id:"user-header"},k={id:"user-profile"},m=["src"],p={id:"profile-box"},f={id:"box-name"},g={id:"profile-naw"},b=["onClick"],h={id:"user-content"};var C={__name:"User",setup(e){const a=(0,s.A)();let l=(0,t.KR)();const C=(0,u.rd)(),L=(0,u.lq)(),R=e=>{l.value=e};(0,i.wB)(L,(e=>{R(e.meta.messageCode)}),{immediate:!0,deep:!0});const _=e=>{e.menu!=l.value&&C.push(e.path)};return(e,u)=>{const s=(0,i.g2)("RouterView");return(0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("div",v,[(0,i.bF)(o.A)]),(0,i.Lk)("div",k,[(0,i.Lk)("img",{src:(0,t.R1)(a).avatarUrl,id:"profile-avatar"},null,8,m),(0,i.Lk)("div",p,[(0,i.Lk)("div",f,(0,n.v_)((0,t.R1)(a).nickName),1)]),(0,i.Lk)("div",g,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,t.R1)(d.BO),((e,a)=>((0,i.uX)(),(0,i.CE)("div",{class:"box-module",key:a,onClick:a=>_(e)},[(0,i.bF)(r.A,{class:"box-icon",name:e.icon},null,8,["name"]),(0,i.Lk)("div",{class:(0,n.C4)([(0,t.R1)(l)===e.menu?"box-name-sure":"box-name"])},(0,n.v_)(e.name),3)],8,b)))),128))])]),(0,i.Lk)("div",h,[(0,i.bF)(s)])])}}},L=l(1241);const R=(0,L.A)(C,[["__scopeId","data-v-b63a3986"]]);var _=R}}]);
//# sourceMappingURL=516.c7f4e34d.js.map