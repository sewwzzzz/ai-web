{"version":3,"file":"js/176.0bce5ba9.js","mappings":"kZAKA,MAAMA,EAAa,CACjBC,GAAI,cAEAC,EAAa,CACjBD,GAAI,eAEAE,EAAa,CACjBF,GAAI,iBAEAG,EAAa,CAAC,OACdC,EAAa,CACjBC,MAAO,iBAEHC,EAAa,CACjBN,GAAI,aAEAO,EAAa,CACjBP,GAAI,UAEAQ,EAAa,CACjBR,GAAI,gBAEAS,EAAa,CAAC,OACdC,EAAc,CAAC,WAYrB,OACEC,OAAQ,SACR,KAAAC,CAAMC,GACJ,MAAMC,GAAS,UACTC,GAAW,QAAI,MACfC,GAAY,QAAI,MAChBC,GAAc,SACdC,GAAY,SACZC,GAAY,SAAI,GAChBC,GAAY,SAAI,GAChBC,GAAW,QAAI,IACfC,GAAW,QAAI,IACrB,IAAIC,EAGmB,IAAnBL,EAAUM,OAAeC,aAAaC,QAAQ,WAChD,UAIF,MAAMC,EAAkB,KACtB,MAAMC,EAAYC,SAASC,eAAe,aACtCF,GACFA,EAAUG,OACZ,EAEIC,EAAmBC,IACvBV,EAAUU,EAAMC,OAAOC,MAAM,GAC7BF,EAAMC,OAAOE,MAAQ,GACrBf,EAASe,MAAQC,IAAIC,gBAAgBf,EAAQ,EAkBzCgB,EAAaC,UAEbjB,GAGF,QAAWA,GAASkB,MAAKC,KACvB,QAAepB,EAASc,MAAOM,EAAI,IAGjCpB,EAASc,OAASlB,EAAUI,WAC9B,QAAeA,EAASc,MAAOlB,EAAUyB,WAG7CpB,EAAU,KACVqB,GAAW,EAIPC,EAAc,KAClBzB,EAAUgB,OAAQ,EAClBd,EAASc,MAAQlB,EAAUI,SAC3BD,EAASe,MAAQlB,EAAUyB,SAAS,EAIhCC,EAAY,KAChBxB,EAAUgB,OAAQ,CAAK,EAInBU,EAAa,KACjB3B,EAAUiB,OAAQ,CAAI,EAIlBW,EAAgB,KACpB5B,EAAUiB,OAAQ,CAAK,GAIzB,SAAU,KACRY,IACAC,OAAOC,iBAAiB,SAAUF,EAAY,KAIhD,SAAgB,KACdC,OAAOE,oBAAoB,SAAUH,EAAY,IAInD,MAAMA,GAAc,SAAS,KAC3BjC,EAASqB,MAAMgB,cAA4C,GAA9BpC,EAAUoB,MAAMiB,YAAkB,IAI3DC,EAAYC,IAChB,GAAmB,OAAfA,EAAKC,MAKP,OAJAtC,EAAUuC,YACVhC,aAAaiC,WAAW,SACxBjC,aAAaiC,WAAW,iBACxB,UAIF,IAAIC,EAAY7C,EAAO8C,QAAQ,CAC7BC,KAAMN,EAAKM,OAKbZ,OAAOa,KAAKH,EAAUI,KAAM,SAAS,EAIjCC,EAAW,KACflD,EAAOmD,KAAK,IAAI,EAElB,MAAO,CAACC,EAAMC,KACZ,MAAMC,EAAoB,IACpBC,EAAsB,KACtBC,EAAuB,KACvBC,EAAuB,KACvBC,EAAsB,IAC5B,OAAO,WAAc,QAAoB,KAAW,KAAM,EAAC,SAAgB,QAAoB,MAAOzE,EAAY,EAAC,QAAa0E,EAAA,EAAO,CACrIC,YAAa3B,KACV,KAAM,CAAC,CAAC,KAAQ5B,EAAUiB,UAAU,QAAamC,EAAsB,CAC1EI,WAAYvD,EAAUgB,MACtB,sBAAuB+B,EAAO,KAAOA,EAAO,GAAKS,GAAUxD,EAAUgB,MAAQwC,GAC7EpB,MAAO,SACPqB,MAAO,OACN,CACDC,QAAQ,SAAS,IAAM,EAAC,QAAoB,MAAO1E,EAAY,EAAC,QAAakE,EAAsB,CACjGS,QAASnC,GACR,CACDoC,SAAS,SAAS,IAAMb,EAAO,KAAOA,EAAO,GAAK,EAAC,QAAiB,cACpEc,EAAG,KACD,QAAaX,EAAsB,CACrCY,KAAM,UACNH,QAASxC,GACR,CACDyC,SAAS,SAAS,IAAMb,EAAO,KAAOA,EAAO,GAAK,EAAC,QAAiB,iBACpEc,EAAG,SAELD,SAAS,SAAS,IAAM,EAAC,QAAoB,MAAO/E,EAAY,EAAC,QAAamE,EAAmB,CAC/Fc,KAAM,UACNC,KAAM,SACL,CACDH,SAAS,SAAS,IAAMb,EAAO,KAAOA,EAAO,GAAK,EAAC,QAAiB,UACpEc,EAAG,KACD,QAAaZ,EAAqB,CACpChE,MAAO,eACPsE,WAAYrD,EAASc,MACrB,sBAAuB+B,EAAO,KAAOA,EAAO,GAAKS,GAAUtD,EAASc,MAAQwC,GAC5EQ,aAAa,QAAOlE,GAAWI,UAC9B,KAAM,EAAG,CAAC,aAAc,mBAAmB,QAAoB,MAAOpB,EAAY,EAAC,QAAakE,EAAmB,CACpHc,KAAM,UACNC,KAAM,SACL,CACDH,SAAS,SAAS,IAAMb,EAAO,KAAOA,EAAO,GAAK,EAAC,QAAiB,UACpEc,EAAG,KACD,QAAoB,MAAO,CAC7B5E,MAAO,eACPgF,IAAKhE,EAASe,MACdkD,IAAK,IACJ,KAAM,EAAGnF,IAAa,QAAamE,EAAsB,CAC1DS,QAASpD,GACR,CACDqD,SAAS,SAAS,IAAMb,EAAO,KAAOA,EAAO,GAAK,EAAC,QAAiB,YACpEc,EAAG,KACD,QAAoB,QAAS,CAC/BC,KAAM,OACNlF,GAAI,YACJuF,MAAO,CACL,QAAW,QAEbC,SAAUxD,GACT,KAAM,SACTiD,EAAG,GACF,EAAG,CAAC,gBAAgB,SAAgB,QAAoB,MAAO3E,EAAY,KAAM,KAAM,CAAC,CAAC,KAAQa,EAAUiB,UAAU,QAAoB,MAAO7B,EAAY,EAAC,QAAoB,MAAO,CACzLP,GAAI,aACJ+E,QAASZ,EAAO,KAAOA,EAAO,GAAKS,GAAUZ,MAC5C,EAAC,QAAaQ,EAAqB,CACpCxE,GAAI,YACJyF,KAAM,UACJtB,EAAO,KAAOA,EAAO,IAAK,QAAoB,MAAO,CACvDnE,GAAI,cACH,QAAS,OAAO,QAAoB,MAAO,CAC5C0F,QAAS,YACTC,IAAK3E,EACLhB,GAAI,kBACH,EAAC,QAAa4F,EAAA,EAAa,CAC5BF,QAAS,WACTC,IAAK5E,EACLf,GAAI,eACJ6F,UAAU,QAAO5E,GAAa4E,UAC7B,KAAM,EAAG,CAAC,cAAc,QAAoB,MAAOrF,EAAY,EAAC,QAAOU,GAAWlB,GAAK,IAAK,WAAc,QAAoB,MAAO,CACtI8F,IAAK,EACL9F,GAAI,eACJ+E,QAASlC,EACTwC,KAAK,QAAOnE,GAAWyB,WACtB,KAAM,EAAGlC,MAAgB,WAAc,QAAoB,MAAO,CACnEqF,IAAK,EACL9F,GAAI,eACJ+E,QAASjC,GACR,SAAS,SAAW,IAAO,QAAoB,KAAW,MAAM,SAAY,QAAO,OAAQ,CAACS,EAAMwC,MAC5F,WAAc,QAAoB,MAAO,CAC9CD,IAAKC,EACL1F,MAAO,aACP0E,QAASH,GAAUtB,EAAUC,IAC5B,EAAC,QAAayC,EAAA,EAAU,CACzBP,KAAMlC,EAAKkC,KACXjC,MAAOD,EAAKC,OACX,KAAM,EAAG,CAAC,OAAQ,WAAY,EAAG9C,MAClC,SAAU,QAAS,GAAG,CAE9B,G,UCjQF,MAAMuF,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,wKCLA,MAAMlG,EAAa,CACjBM,MAAO,OAIT,OACEM,OAAQ,OACRuF,MAAO,CACLC,UAAW,CACTjB,KAAMkB,OAERP,SAAU,CACRX,KAAMkB,OAERC,WAAY,CACVnB,KAAMoB,QAERC,UAAW,CACTrB,KAAMsB,OACNxB,QAAS,GAEXyB,SAAU,CACRvB,KAAMsB,OACNxB,QAAS,IAGb0B,MAAO,CAAC,UACR,KAAA9F,CAAMC,GACJ8F,OAAQC,EACRC,KAAMC,IAEN,MAAMZ,EAAQrF,EACd,IAAIkG,GAAY,QAAI,GAChB9F,GAAc,SAGlB,SAAS+F,EAAaC,GACpBF,EAAU3E,MAAQ6E,CACpB,CACAL,EAAS,CACPI,iBAEF,MAAMN,EAAQI,EACRI,EAAgB,CAACC,EAAOC,EAAUC,KACtCX,EAAM,SAAUS,EAAOC,EAAUC,EAAQ,EAE3C,MAAO,CAACnD,EAAMC,KACZ,MAAMmD,EAA0B,KAC1BC,EAAyB,KACzBC,EAAqB,KAC3B,OAAO,WAAc,QAAaA,EAAoB,CACpDC,SAAU,GACVpH,MAAO,sBACPqH,KAAM,aACN,gBAAiB,EACjBnC,OAAO,QAAgB,CACrBV,MAAOqB,EAAMG,WAAaH,EAAMG,YAAa,QAAOU,GAAa,OAEnE,iBAAkBb,EAAMC,UAAU,GAAGnG,GAAK,MACzC,CACDgF,SAAS,SAAS,IAAM,GAAE,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYkB,EAAMC,WAAWwB,KACrG,WAAc,QAAaJ,EAAwB,CACxDzB,IAAK6B,EAAU3H,GACf+F,MAAO4B,EAAU3H,GAAG4H,YACnB,CACDpE,OAAO,SAAS,IAAM,EAAC,SAAgB,QAAoB,MAAOzD,EAAY,IAAK,KAAM,CAAC,CAAC,MAAQ,QAAOkB,GAAa4G,cAAcC,QAAOC,GACnIA,EAAEC,YAAcL,EAAU3H,IAAmB,IAAb+H,EAAEE,SACxCC,WAAW,QAAiB,KAAM,QAAiBP,EAAUlC,MAAO,MACvET,SAAS,SAAS,IAAM,GAAE,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYkB,EAAML,UAAUtC,KACpG,WAAc,QAAa+D,EAAyB,CACzDxB,IAAKvC,EAAKvD,GACV+F,MAAO4B,EAAU3H,GAAK,IAAMuD,EAAKvD,GACjC+E,QAASH,GAAUsC,EAAcS,EAAU3H,GAAIuD,EAAKvD,GAAI2H,EAAUN,UACjE,CACDrC,SAAS,SAAS,IAAM,EAAC,SAAiB,QAAiBzB,EAAKkC,MAAO,MACvER,EAAG,GACF,KAAM,CAAC,QAAS,eACjB,SACJA,EAAG,GACF,KAAM,CAAC,aACR,SACJA,EAAG,GACF,EAAG,CAAC,QAAS,kBAAkB,CAEtC,G,UCjFF,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,0sBCJA,MAAM,EAAa,CACjBjG,GAAI,oBAEAC,EAAa,CACjBD,GAAI,iBAEAE,EAAa,CACjBF,GAAI,gBAQN,OACEW,OAAQ,QACR,KAAAC,CAAMC,GACJ,MAAMI,GAAc,SACdC,GAAY,SACZiH,GAAQ,UACRrH,GAAS,UACf,IAAIsH,GAAW,QAAI,IAEfhB,EAAWe,EAAME,OAAOjB,SACxBD,EAAQgB,EAAME,OAAOlB,OACzB,WACA,SAAM,IAAMjG,EAAUlB,KAAIsI,IACpBA,EAAM,IACR,SACF,IAGF,IAAIC,GAAS,QAAS,CACpBC,YAAa,EACbC,SAAU,GACVC,WAAY,IAId,MAAMC,EAAc,CAACvB,EAAUD,EAAOyB,EAAU,EAAGzD,EAAOoD,EAAOE,SAAUI,EAAa,OACtF,QAAQD,EAASzD,EAAMiC,EAAUD,EAAO0B,GAAYpG,MAAKqG,IACnDA,IACFP,EAAOE,SAAWK,EAAK3D,KACvBoD,EAAOG,WAAaI,EAAKC,MACzBR,EAAOC,YAAcM,EAAKF,QAC1BR,EAAShG,MAAQ0G,EAAKE,QAExB,GACA,EAEJL,EAAYvB,EAAUD,GAGtB,MAAM8B,EAAa,CAACC,EAASC,EAAUC,KACrCjC,EAAQ+B,EACR9B,EAAW+B,EAEXrI,EAAOuI,QAAQ,UAAUD,KAAWF,KAAWC,KAC/CR,EAAYvB,EAAUD,EAAM,EAIxBmC,EAAahB,IACjBC,EAAOE,SAAWH,EAClBC,EAAOC,YAAc,EACrBG,EAAYvB,EAAUD,EAAO,EAAGoB,EAAOE,SAAS,EAI5Cc,EAAgBjB,IACpBC,EAAOC,YAAcF,EACrBK,EAAYvB,EAAUD,EAAOoB,EAAOC,YAAaD,EAAOE,SAAS,EAI7De,EAAS,KACb1I,EAAOmD,KAAK,IAAI,EAIZwF,EAAWzJ,KACf,QAAQA,GACR,IAAI2D,EAAY7C,EAAO8C,QAAQ,CAC7BC,KAAM,WAAW7D,MAEnBiD,OAAOa,KAAKH,EAAUI,KAAM,SAAS,EAEvC,MAAO,CAACG,EAAMC,KACZ,MAAMuF,EAAoB,IACpBC,EAA6B,EAC7BC,EAAqB,KACrBtF,EAAuB,KACvBuF,EAAkB,IAClBC,EAAwB,IAC9B,OAAO,WAAc,QAAoB,KAAW,KAAM,EAAC,QAAaJ,IAAoB,QAAoB,MAAO,EAAY,EAAC,QAAapF,EAAsB,CACrKS,QAASyE,GACR,CACDxE,SAAS,SAAS,IAAM,EAAC,QAAa4E,EAAoB,KAAM,CAC9D5E,SAAS,SAAS,IAAM,EAAC,QAAa2E,MACtC1E,EAAG,IACDd,EAAO,KAAOA,EAAO,IAAK,QAAiB,aAC/Cc,EAAG,KACD,QAAa4E,EAAiB,CAChC7J,GAAI,kBACJ,aAAc+J,UAAS,QAAO5B,GAAOE,OAAOlB,OAC5C,YAAa4C,UAAS,QAAO5B,GAAOE,OAAOjB,UAC3C4C,SAAUf,EACV,cAAe,qBACf9C,WAAW,QAAOlF,GAAakF,UAAU2B,QAAOmC,GAAWA,EAAQ5C,UAAW,QAAOc,GAAOE,OAAOhB,UACnGxB,UAAU,QAAO5E,GAAa4E,UAC7B,KAAM,EAAG,CAAC,aAAc,YAAa,YAAa,gBAAgB,QAAoB,MAAO5F,EAAY,GAAE,SAAW,IAAO,QAAoB,KAAW,MAAM,SAAY,QAAOmI,IAAW7E,KAC1L,WAAc,QAAa2G,EAAA,EAAU,CAC1ClK,GAAI,cACJ8F,IAAKvC,EAAKvD,GACVgJ,QAASzF,EACTwB,QAASH,GAAU6E,EAASlG,EAAKvD,KAChC,KAAM,EAAG,CAAC,UAAW,eACtB,SAAS,SAAgB,QAAoB,MAAOE,EAAY,EAAC,QAAa4J,EAAuB,CACvG9J,GAAI,oBACJuI,QAAQ,QAAOA,GACf4B,aAAcb,EACdc,gBAAiBb,GAChB,KAAM,EAAG,CAAC,YAAa,KAAM,CAAC,CAAC,MAAQ,QAAOnB,GAAUF,WAAY,GAAG,CAE9E,G,UC3HF,MAAMjC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://ai-web/./src/components/Header.vue","webpack://ai-web/./src/components/Header.vue?8639","webpack://ai-web/./src/components/Menu.vue","webpack://ai-web/./src/components/Menu.vue?ea00","webpack://ai-web/./src/views/Block.vue","webpack://ai-web/./src/views/Block.vue?caab"],"sourcesContent":["import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { createVNode as _createVNode, vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  id: \"main-login\"\n};\nconst _hoisted_2 = {\n  id: \"dialog-name\"\n};\nconst _hoisted_3 = {\n  id: \"dialog-avatar\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"dialog-footer\"\n};\nconst _hoisted_6 = {\n  id: \"main-mask\"\n};\nconst _hoisted_7 = {\n  id: \"header\"\n};\nconst _hoisted_8 = {\n  id: \"header-right\"\n};\nconst _hoisted_9 = [\"src\"];\nconst _hoisted_10 = [\"onClick\"];\nimport SelectInput from './SelectInput.vue';\nimport ToolIcon from './ToolIcon.vue';\nimport { tools } from '@/datas/config';\nimport { debounce } from '@/utils/operate';\nimport { ref, onMounted, onBeforeUnmount } from 'vue';\nimport { useRouter } from 'vue-router';\nimport useSystemStore from '@/store/system';\nimport useInfoStore from '@/store/info';\nimport { uploadFile, updateUserInfo, getUserInfo } from '@/utils/preRequest';\nimport Enter from '@/views/enter/Enter.vue';\nimport { sendInfoMessage } from '@/utils/broadcast';\nexport default {\n  __name: 'Header',\n  setup(__props) {\n    const router = useRouter();\n    const inputRef = ref(null);\n    const headerRef = ref(null);\n    const systemStore = useSystemStore();\n    const infoStore = useInfoStore();\n    const showLogin = ref(false);\n    const showReset = ref(false);\n    const imageUrl = ref('');\n    const nickName = ref('');\n    let imgFile;\n\n    // 如果token有存储在本地，那么可以认为上次用户并未主动退出，期望下次自动登录\n    if (infoStore.token == '' && localStorage.getItem('token')) {\n      getUserInfo();\n    }\n\n    // 修改头像\n    const handleImgUpload = () => {\n      const fileInput = document.getElementById('chooseImg');\n      if (fileInput) {\n        fileInput.click();\n      }\n    };\n    const handleFileChange = event => {\n      imgFile = event.target.files[0];\n      event.target.value = '';\n      imageUrl.value = URL.createObjectURL(imgFile);\n      // console.log(imgFile)\n    };\n\n    // 转换文件/图像\n    // const transformFile = (file) => new Promise((resolve,reject) => {\n    //   const fileReader = new FileReader()\n    //   fileReader.onload = (e) => {\n    //     resolve(String.fromCharCode.apply(null, new Uint8Array(e.target.result)))\n\n    //   }\n    //   fileReader.onerror = (error) => {\n    //     reject(error)\n    //   }\n    //   fileReader.readAsArrayBuffer(file)\n    // })\n\n    // 上传用户信息\n    const updateInfo = async () => {\n      // let file = ''\n      if (imgFile) {\n        // file = await transformFile(imgFile)\n        // console.log(\"转换后的二进制文件:\",file)\n        uploadFile(imgFile).then(url => {\n          updateUserInfo(nickName.value, url);\n        });\n      } else {\n        if (nickName.value != infoStore.nickName) {\n          updateUserInfo(nickName.value, infoStore.avatarUrl);\n        }\n      }\n      imgFile = null;\n      exitReset();\n    };\n\n    // 点击头像\n    const touchAvatar = () => {\n      showReset.value = true;\n      nickName.value = infoStore.nickName;\n      imageUrl.value = infoStore.avatarUrl;\n    };\n\n    // 退出重置信息界面\n    const exitReset = () => {\n      showReset.value = false;\n    };\n\n    // 点击登录\n    const touchLogin = () => {\n      showLogin.value = true;\n    };\n\n    // 关闭登录界面\n    const showLoginCmpt = () => {\n      showLogin.value = false;\n    };\n\n    // 元素挂载后需要执行的操作\n    onMounted(() => {\n      updateWidth();\n      window.addEventListener('resize', updateWidth);\n    });\n\n    // 元素销毁前需要执行的操作\n    onBeforeUnmount(() => {\n      window.removeEventListener('resize', updateWidth);\n    });\n\n    // 设定搜索框的宽度\n    const updateWidth = debounce(() => {\n      inputRef.value.setInputWidth(headerRef.value.offsetWidth * 0.3);\n    });\n\n    // 点击 消息/动态/收藏/历史/ 后跳转路由\n    const jumpTools = item => {\n      if (item.title === '注销') {\n        infoStore.clearInfo();\n        localStorage.removeItem('token');\n        localStorage.removeItem('password');\n        sendInfoMessage();\n        return;\n      }\n      // router.push(item.path)\n      let routeData = router.resolve({\n        path: item.path // 这里填写的是路由配置中定义的路由路径path或者name\n      });\n      // openWindowWithPromise(routeData.href).then(() => {\n      //   sendInfoMessage()\n      // })\n      window.open(routeData.href, '_blank');\n    };\n\n    // 刷新首页\n    const backMain = () => {\n      router.push('/');\n    };\n    return (_ctx, _cache) => {\n      const _component_el_tag = _resolveComponent(\"el-tag\");\n      const _component_el_input = _resolveComponent(\"el-input\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_dialog = _resolveComponent(\"el-dialog\");\n      const _component_svg_icon = _resolveComponent(\"svg-icon\");\n      return _openBlock(), _createElementBlock(_Fragment, null, [_withDirectives(_createElementVNode(\"div\", _hoisted_1, [_createVNode(Enter, {\n        onExitLogin: showLoginCmpt\n      })], 512), [[_vShow, showLogin.value]]), _createVNode(_component_el_dialog, {\n        modelValue: showReset.value,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => showReset.value = $event),\n        title: \"修改个人信息\",\n        width: \"500\"\n      }, {\n        footer: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_button, {\n          onClick: exitReset\n        }, {\n          default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"Cancel\")])),\n          _: 1\n        }), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: updateInfo\n        }, {\n          default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\" Confirm \")])),\n          _: 1\n        })])]),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_tag, {\n          type: \"primary\",\n          size: \"large\"\n        }, {\n          default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"昵称\")])),\n          _: 1\n        }), _createVNode(_component_el_input, {\n          class: \"dialog-input\",\n          modelValue: nickName.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => nickName.value = $event),\n          placeholder: _unref(infoStore).nickName\n        }, null, 8, [\"modelValue\", \"placeholder\"])]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_tag, {\n          type: \"primary\",\n          size: \"large\"\n        }, {\n          default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"头像\")])),\n          _: 1\n        }), _createElementVNode(\"img\", {\n          class: \"dialog-image\",\n          src: imageUrl.value,\n          alt: \"\"\n        }, null, 8, _hoisted_4), _createVNode(_component_el_button, {\n          onClick: handleImgUpload\n        }, {\n          default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"上传文件\")])),\n          _: 1\n        }), _createElementVNode(\"input\", {\n          type: \"file\",\n          id: \"chooseImg\",\n          style: {\n            \"display\": \"none\"\n          },\n          onChange: handleFileChange\n        }, null, 32)])]),\n        _: 1\n      }, 8, [\"modelValue\"]), _withDirectives(_createElementVNode(\"div\", _hoisted_6, null, 512), [[_vShow, showLogin.value]]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", {\n        id: \"aside-sign\",\n        onClick: _cache[2] || (_cache[2] = $event => backMain())\n      }, [_createVNode(_component_svg_icon, {\n        id: \"sign-icon\",\n        name: \"aiweb\"\n      }), _cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n        id: \"sign-title\"\n      }, \"AI资讯\", -1))]), _createElementVNode(\"div\", {\n        ref_key: \"headerRef\",\n        ref: headerRef,\n        id: \"article-header\"\n      }, [_createVNode(SelectInput, {\n        ref_key: \"inputRef\",\n        ref: inputRef,\n        id: \"header-input\",\n        platform: _unref(systemStore).platform\n      }, null, 8, [\"platform\"]), _createElementVNode(\"div\", _hoisted_8, [_unref(infoStore).id > 0 ? (_openBlock(), _createElementBlock(\"img\", {\n        key: 0,\n        id: \"right-avatar\",\n        onClick: touchAvatar,\n        src: _unref(infoStore).avatarUrl\n      }, null, 8, _hoisted_9)) : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        id: \"right-avatar\",\n        onClick: touchLogin\n      }, \"登录\")), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(tools), (item, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: index,\n          class: \"right-icon\",\n          onClick: $event => jumpTools(item)\n        }, [_createVNode(ToolIcon, {\n          name: item.name,\n          title: item.title\n        }, null, 8, [\"name\", \"title\"])], 8, _hoisted_10);\n      }), 128))])], 512)])], 64);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./Header.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Header.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=1f153d80&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1f153d80\"]])\n\nexport default __exports__","import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  class: \"dot\"\n};\nimport { ref } from 'vue';\nimport useSystemStore from '@/store/system';\nexport default {\n  __name: 'Menu',\n  props: {\n    menuTitle: {\n      type: Array\n    },\n    platform: {\n      type: Array\n    },\n    fixedWidth: {\n      type: String\n    },\n    menuIndex: {\n      type: Number,\n      default: 1\n    },\n    subIndex: {\n      type: Number,\n      default: 1\n    }\n  },\n  emits: ['sendId'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    const props = __props;\n    let realWidth = ref(0);\n    let systemStore = useSystemStore();\n\n    // 设置每个板块的菜单栏宽度\n    function setMenuWidth(menuWidth) {\n      realWidth.value = menuWidth;\n    }\n    __expose({\n      setMenuWidth\n    });\n    const emits = __emit;\n    const sendCurrentId = (keyId, sourceId, blockId) => {\n      emits('sendId', keyId, sourceId, blockId);\n    };\n    return (_ctx, _cache) => {\n      const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n      const _component_el_sub_menu = _resolveComponent(\"el-sub-menu\");\n      const _component_el_menu = _resolveComponent(\"el-menu\");\n      return _openBlock(), _createBlock(_component_el_menu, {\n        ellipsis: \"\",\n        class: \"el-menu-popper-demo\",\n        mode: \"horizontal\",\n        \"popper-offset\": 0,\n        style: _normalizeStyle({\n          width: props.fixedWidth ? props.fixedWidth : _unref(realWidth) + 'px'\n        }),\n        \"default-active\": props.menuTitle[0].id + '-1'\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.menuTitle, TitleItem => {\n          return _openBlock(), _createBlock(_component_el_sub_menu, {\n            key: TitleItem.id,\n            index: TitleItem.id.toString()\n          }, {\n            title: _withCtx(() => [_withDirectives(_createElementVNode(\"div\", _hoisted_1, \"●\", 512), [[_vShow, _unref(systemStore).subscribeList.filter(x => {\n              return x.keywordId === TitleItem.id && x.status === 1;\n            }).length]]), _createTextVNode(\" \" + _toDisplayString(TitleItem.name), 1)]),\n            default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.platform, item => {\n              return _openBlock(), _createBlock(_component_el_menu_item, {\n                key: item.id,\n                index: TitleItem.id + '-' + item.id,\n                onClick: $event => sendCurrentId(TitleItem.id, item.id, TitleItem.blockId)\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1)]),\n                _: 2\n              }, 1032, [\"index\", \"onClick\"]);\n            }), 128))]),\n            _: 2\n          }, 1032, [\"index\"]);\n        }), 128))]),\n        _: 1\n      }, 8, [\"style\", \"default-active\"]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./Menu.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Menu.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Menu.vue?vue&type=style&index=0&id=98483a36&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-98483a36\"]])\n\nexport default __exports__","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, unref as _unref, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  id: \"block-navigation\"\n};\nconst _hoisted_2 = {\n  id: \"block-content\"\n};\nconst _hoisted_3 = {\n  id: \"block-footer\"\n};\nimport useSystemStore from '@/store/system';\nimport { addEyes, getList, getPlatform, getSubscriptionList } from '@/utils/preRequest';\nimport { useRoute, useRouter } from 'vue-router';\nimport { reactive, ref, watch } from 'vue';\nimport Bilibili from '@/components/Picture/Bilibili.vue';\nimport useInfoStore from '@/store/info';\nexport default {\n  __name: 'Block',\n  setup(__props) {\n    const systemStore = useSystemStore();\n    const infoStore = useInfoStore();\n    const route = useRoute();\n    const router = useRouter();\n    let dataList = ref([]);\n    // 当前展示的关键词和平台\n    let sourceId = route.params.sourceId;\n    let keyId = route.params.keyId;\n    getPlatform();\n    watch(() => infoStore.id, val => {\n      if (val > 0) {\n        getSubscriptionList();\n      }\n    });\n    // 分页数据\n    let paging = reactive({\n      currentPage: 1,\n      pageSize: 10,\n      totalCount: 0\n    });\n\n    // 根据信息获取对应数据列表\n    const getDataList = (sourceId, keyId, current = 1, size = paging.pageSize, searchText = '') => {\n      getList(current, size, sourceId, keyId, searchText).then(data => {\n        if (data) {\n          paging.pageSize = data.size;\n          paging.totalCount = data.total;\n          paging.currentPage = data.current;\n          dataList.value = data.records;\n          // console.log(dataList)\n        }\n      });\n    };\n    getDataList(sourceId, keyId);\n\n    // 设置当前点击的平台id及关键词\n    const setCurrent = (firstId, secondId, thirdId) => {\n      keyId = firstId;\n      sourceId = secondId;\n      // console.log(\"当前关键词id和平台id:\", keyId, sourceId)\n      router.replace(`/block/${thirdId}/${firstId}/${secondId}`);\n      getDataList(sourceId, keyId);\n    };\n\n    // 页数据量变化\n    const sizeChange = val => {\n      paging.pageSize = val;\n      paging.currentPage = 1;\n      getDataList(sourceId, keyId, 1, paging.pageSize);\n    };\n\n    // 当前页号变化\n    const currentChange = val => {\n      paging.currentPage = val;\n      getDataList(sourceId, keyId, paging.currentPage, paging.pageSize);\n    };\n\n    // 返回主页\n    const goBack = () => {\n      router.push('/');\n    };\n\n    // 前往具体资讯页面\n    const goPoster = id => {\n      addEyes(id);\n      let routeData = router.resolve({\n        path: `/Poster/${id}`\n      });\n      window.open(routeData.href, '_blank');\n    };\n    return (_ctx, _cache) => {\n      const _component_Header = _resolveComponent(\"Header\");\n      const _component_i_ep_arrow_left = _resolveComponent(\"i-ep-arrow-left\");\n      const _component_el_icon = _resolveComponent(\"el-icon\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_Menu = _resolveComponent(\"Menu\");\n      const _component_Pagination = _resolveComponent(\"Pagination\");\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Header), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_button, {\n        onClick: goBack\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode(_component_i_ep_arrow_left)]),\n          _: 1\n        }), _cache[0] || (_cache[0] = _createTextVNode(\"返回主页 \"))]),\n        _: 1\n      }), _createVNode(_component_Menu, {\n        id: \"navigation-menu\",\n        \"menu-index\": parseInt(_unref(route).params.keyId),\n        \"sub-index\": parseInt(_unref(route).params.sourceId),\n        onSendId: setCurrent,\n        \"fixed-width\": \"calc(100% - 160px)\",\n        menuTitle: _unref(systemStore).menuTitle.filter(keyword => keyword.blockId == _unref(route).params.blockId),\n        platform: _unref(systemStore).platform\n      }, null, 8, [\"menu-index\", \"sub-index\", \"menuTitle\", \"platform\"])]), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(dataList), item => {\n        return _openBlock(), _createBlock(Bilibili, {\n          id: \"content-box\",\n          key: item.id,\n          records: item,\n          onClick: $event => goPoster(item.id)\n        }, null, 8, [\"records\", \"onClick\"]);\n      }), 128))]), _withDirectives(_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_Pagination, {\n        id: \"footer-pagination\",\n        paging: _unref(paging),\n        onSizeChange: sizeChange,\n        onCurrentChange: currentChange\n      }, null, 8, [\"paging\"])], 512), [[_vShow, _unref(dataList).length]])], 64);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./Block.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Block.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Block.vue?vue&type=style&index=0&id=6f6ad32c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6f6ad32c\"]])\n\nexport default __exports__"],"names":["_hoisted_1","id","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","class","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","__name","setup","__props","router","inputRef","headerRef","systemStore","infoStore","showLogin","showReset","imageUrl","nickName","imgFile","token","localStorage","getItem","handleImgUpload","fileInput","document","getElementById","click","handleFileChange","event","target","files","value","URL","createObjectURL","updateInfo","async","then","url","avatarUrl","exitReset","touchAvatar","touchLogin","showLoginCmpt","updateWidth","window","addEventListener","removeEventListener","setInputWidth","offsetWidth","jumpTools","item","title","clearInfo","removeItem","routeData","resolve","path","open","href","backMain","push","_ctx","_cache","_component_el_tag","_component_el_input","_component_el_button","_component_el_dialog","_component_svg_icon","Enter","onExitLogin","modelValue","$event","width","footer","onClick","default","_","type","size","placeholder","src","alt","style","onChange","name","ref_key","ref","SelectInput","platform","key","index","ToolIcon","__exports__","props","menuTitle","Array","fixedWidth","String","menuIndex","Number","subIndex","emits","expose","__expose","emit","__emit","realWidth","setMenuWidth","menuWidth","sendCurrentId","keyId","sourceId","blockId","_component_el_menu_item","_component_el_sub_menu","_component_el_menu","ellipsis","mode","TitleItem","toString","subscribeList","filter","x","keywordId","status","length","route","dataList","params","val","paging","currentPage","pageSize","totalCount","getDataList","current","searchText","data","total","records","setCurrent","firstId","secondId","thirdId","replace","sizeChange","currentChange","goBack","goPoster","_component_Header","_component_i_ep_arrow_left","_component_el_icon","_component_Menu","_component_Pagination","parseInt","onSendId","keyword","Bilibili","onSizeChange","onCurrentChange"],"sourceRoot":""}